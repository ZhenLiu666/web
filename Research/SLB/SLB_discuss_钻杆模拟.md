### 交流学SLB_钻杆模拟问题

> Copyright ZhenLiu





#### 221104  Robin

- 摩擦力本质上和相对运动的速度有关系，而不是位移；

  - 计算接触点的速度而不是中心线的速度，因为接触点的速度和杆的扭转以及其他方向运动产生的关联速度有关系；

  - 将接触点的速度投影到接触面上，即为接触面产生的相对摩擦力，即速度在接触平面上的分量；

  - 两个问题：

  - - 对于静摩擦要考虑不同的公式，也就是速度为0的情况；
    - 对于法向的速度或许应该乘以某个阻尼项使得接触力增大；
    - 对于连续的形函数如何考虑受到的摩擦？？？



#### 230324  Regular Discuss (SLB)

- 表格中变量的含义，其中Ana表示Analytic Result，P表示轴力，Pcr 表示critial force;
- 关于变形结果的讨论：
  - 关于x方向的变形：
    - 当考虑线性模型的时候，x方向的变形总是线性的；
    - 当考虑非线性模型的时候，x方向的变形总是非线性的；
  - 关于z方向的变形：
    - 当考虑线性模型的时候，z方向的变形总是对称的；
    - 当考虑非线性模型的时候：
      - 如果y方向的位移为0，z方向的变形总是对称的；
      - 如果y方向的位移关于中心反对称，z方向的变形也不再是对称的；
- 静摩擦与滑动摩擦：
  - 静摩擦：在发生相对运动之前的摩擦力，静摩擦力的大小<=滑动摩擦力的大小；可以根据对应的受力分析，取值任意小于滑动摩擦力的值；
  - 滑动摩擦：发生相对运动后，滑动摩擦力的大小与接触力的大小和摩擦系数有关；
  - 需要设定临界情况，当接触力小于临界值的时候为静摩擦，当接触力大于临界值的时候为滑动摩擦，可以使用Heaviside函数作为判断；
- TODO：
  - 测试long beam + big torque摩擦模型；
  - 添加代码功能：
    - Robin提供节点速度不同情况下计算得到接触力的算例；
    - 完成两个节点不同速度，利用形函数插值计算摩擦力并积分的代码；
  - 工程文章的阅读：
    - 找关于粱模型的顶刊中的文章，小变形，几何非线性，接触问题，摩擦问题；
    - 讨论文章相关的保密权限，确定文章的主题；
  - 考虑将matlab代码转换成python代码：
    - 将子函数calculatefrictionforce的接口设定为输入区间两节点的速度，输出为接触力；
    - 直接测试python代码减少时间步长的计算结果，避免脱离最终的主题；





#### 230330  北大讨论动态时空模型离散 (SLB)

- 实际上所有的弹性力学问题都可以看成是动态情况：
  - 动态方程是：$u_{i,tt} + u_{i,t} + \sigma_{ij,j} = f_{i} +F_{c,i}+F_{f,i}$
  - 其中第二项是位移关于时间的导数是速度，即$v(x,y,z,t) = \frac{d u}{dt}$；
  - 当速度与时间无关的时候，关于时间的导数为0，上述方程就变成了静态方程；
  - 速度为常数的情况只是匀速状态下的平衡，是力的平衡；
  - 实际上由于动态问题中会出现质量矩阵，往往是对角矩阵，对计算的收敛性起到稳定的作用，因此**静态问题往往是更不稳定的；**
- 钻杆有可能发生强烈的震动现象：
  - **失稳现象**，由于钻杆受到的压力特别大，因此受到微小扰动之后很有可能发生屈曲状态，从而发生断裂，实际上在实际应用中很容易发生此类现象；
  - **共振现象**，当钻杆的运动处于某种共振模式的时候就会发生共振现象，由于此时的共振的频率mode有很多状态，因此不确定什么时候会发生共振现象；
- SLB项目的实际**需求**：
  - 要计算钻杆发生失稳现象的可能性，或者预测一些现象，需要快速计算的方法；
  - 在动态问题的求解中尽可能的减小时间步长$\Delta t$；
  - 尽可能提升计算的精度；
- 动态问题的理解：
  - 尽可能的在时间方向上采用隐式格式计算，这样可以提高时间步长；
  - 在Newmark格式中速度是根据位移计算得到的，在当前步骤计算的时候，依赖于上一个时间步的计算结果，这与实际的物理问题理解不同，实际上速度是和当前时间步的位移相关的，因此考虑将速度项利用位移表示计算；
- 如何提升非线性问题的计算效率（在当前时间步的不同迭代子步）：
  - 可以考虑使用Newton迭代法，或者部分非线性计算使用Newton迭代法进行计算；
  - 可以考虑利用已知的信息，判断下一次迭代接触的状态，从而决定是否要计算接触力和摩擦力项；
  - 考虑把部分非线性项移动到方程的左端，从而利用不动点迭代法就可以得到方程的解；
- 其他考虑：
  - 使用柱坐标进行计算，程序模块化的话只需要改动变换的部分；
  - 使用分离的方法，将现在的复杂问题变成几个简单的问题，但是需要注意耦合的部分如何保持通信；



#### 230413  非线性摩擦模型的计算流程(SLB)

- 卢老师：非线性摩擦模型的计算过程（插值，投影算子等），是否是可以交换的，会有什么样的结果；
- 总结数值算例的例子：
  - 关于刚度矩阵的计算：线性模型，部分非线性，完全非线性；
  - 关于接触力的计算：点接触模型，线接触模型；
  - 关于摩擦力的计算：点摩擦模型，线摩擦模型；
  - 几点补充：
    - 测试非线性刚阵的时候采用部分非线性，否则计算效率太低；
    - 目前的接触模型都是线接触模型，实际上不区分表面点和中心点，只是看成质点；
    - 线接触+点摩擦的计算结果比之前的效果要好很多；
- 摩擦线接触模型的部分：
  - 坐标变换是否是合适的，需要检查是否产生了耦合；
  - 关于yz坐标系内的转换是否是正确的，以及转换坐标系的符号是否正确；
  - 处理Hevisdide函数的方法是区间分段，求根是否是需要的？多区间替代求根？
- 关于Matlab的改进：
  - 添加子函数的unitest，保证代码的可靠性并且提升程序的计算效率；
  - 适当对程序进行优化，调试的时候效率更高，不需要在这个上边浪费时间；
- Robin：提供一个简单模型不同节点速度的算例；





#### 230517  非线性摩擦模型计算实现(SLB)

- 修改函数名的命名方式：
  - OLD：统一采用全部小写字母，并且没有间隔的方式书写；
  - NEW：统一采用全部小写字母，但是需要用下划线将不同的单词隔开；
- 修改接触部分的计算方式：
  - OLD：将所有的接触项处理成接触力，放在方程的左端，使用fsolve求解；
  - NEW：将接触力分解一部分放在方程的左侧，这样增加计算的数值稳定性，使用fixpoint求解；
